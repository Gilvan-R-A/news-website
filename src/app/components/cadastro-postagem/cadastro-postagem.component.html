<app-navbar></app-navbar>

<div class="container">
  <div class="form-container">
    <h2>Cadastro de Postagem</h2>
    <form #formPost="ngForm" (ngSubmit)="cadastrar(formPost)" novalidate>
      <input
        type="text"
        [(ngModel)]="postagem.titulo"
        name="titulo"
        placeholder="Título"
        required 
        minlength="5" 
        maxlength="100" 
        #titulo="ngModel" 
        [ngClass]="{ 'invalido': titulo.invalid && titulo.touched }"
      />
      <small class="erro" *ngIf="titulo.invalid && titulo.touched">
        <span *ngIf="titulo.errors?.['required']">O título é obrigatório</span>
        <span *ngIf="titulo.errors?.['minlength']">Mínimo de 5 caracteres</span>
        <span *ngIf="titulo.errors?.['maxlength']">Máximo de 100 caracteres</span>

      </small>

      <textarea
        [(ngModel)]="postagem.conteudo"
        name="conteudo"
        placeholder="Conteúdo"
        required 
        minlength="10" 
        #conteudo="ngModel" 
        [ngClass]="{ 'invalido': conteudo.invalid && conteudo.touched}"
      ></textarea>

      <small class="erro" *ngIf="conteudo.invalid && conteudo.touched">
        <span *ngIf="conteudo.errors?.['required']">O conteúdo é obrigatório.</span>
        <span *ngIf="conteudo.errors?.['minlength']">Mínimo de 10 caracteres.</span>
      </small>

      <input
        type="text"
        [(ngModel)]="postagem.categoria"
        name="categoria"
        placeholder="Categoria"
        required  
        minlength="5" 
        maxlength="20"
        #categoria="ngModel" 
        [ngClass]="{ 'invalido': categoria.invalid && categoria.touched }"
      />
      <small class="erro" *ngIf="categoria.invalid && categoria.touched">
        <span *ngIf="categoria.errors?.['required']">A categoria é obrigatória.</span>
        <span *ngIf="categoria.errors?.['minlength']">Mínimo 5 caracteres</span>
        <span *ngIf="categoria.errors?.['maxlength']">Máximo 20 caracteres</span>
      </small>

      <button type="submit" [disabled]="formPost.invalid">Cadastrar</button>
    </form>
  </div>
</div>

<app-footer></app-footer>
